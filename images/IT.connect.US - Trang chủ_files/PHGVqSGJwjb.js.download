if (self.CavalryLogger) { CavalryLogger.start_js(["v3iNh"]); }

__d("CometNewsFeedVPVDStore_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometNewsFeedVPVDStore_newsFeedEdge"};e.exports=a}),null);
__d("CometNewsFeedVPVDStore",["CircularBuffer","CometRelay","React","emptyFunction","CometNewsFeedVPVDStore_newsFeedEdge.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").readInlineData,i=b("React");c=b("React");var j=c.useCallback,k=c.useContext;d=function(){var a=new(b("CircularBuffer"))(50);return{readRecentVPVDs:function(){var b=a.read();a.clear();return b},writeRecentVPVD:function(c,d){var e=h(g!==void 0?g:g=b("CometNewsFeedVPVDStore_newsFeedEdge.graphql"),c);c=a.read().find(function(a){var b;a=a.vsid;return(e==null?void 0:(b=e.feed_backend_data)==null?void 0:b.vsid)===a});if(c)return;a.write({evt:"vpv",fetch_tracking:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.should_recent_vpv_fetch_tracking_data,original_qid:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.original_qid,qid:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.qid,timestamp:d,vsid:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.vsid,vspos:e==null?void 0:(d=e.feed_backend_data)==null?void 0:d.vspos})}}};var l=i.createContext(),m=i.createContext(b("emptyFunction"));function a(a){var b=a.children,c=a.newsFeedEdge,d=k(l);a=j(function(a){d&&d.writeRecentVPVD(c,a)},[c,d]);return i.jsx(m.Provider,{value:a,children:b})}e.exports={LoggerContext:m,LoggerProvider:a,StoreProvider:l.Provider,createStore:d}}),null);
__d("CometFeedUnitStatusListPassiveContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(null);e.exports=c}),null);
__d("useImpressionMoatSivtLogger",["CometViewportMarginsContext","React","getIntersectionMarginFromViewportMargin","intersectionObserverEntryIsIntersecting","useIntersectionObserver"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useCallback,h=c.useContext,i=c.useRef;function a(a,c){var d=h(b("CometViewportMarginsContext")),e=i(!1),f=g(function(d){d=b("intersectionObserverEntryIsIntersecting")(d);if(e.current!==d){e.current=d;if(e.current){var f=new Date();e.current=!0;a.onReady(function(a){c(a,f)})}}},[c,a]);return b("useIntersectionObserver")(f,{root:null,rootMargin:b("getIntersectionMarginFromViewportMargin")(d),threshold:0})}e.exports=a}),null);
__d("useStoryMoatSivtLogger",["requireDeferred","React","useImpressionMoatSivtLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("Banzai"),h=b("requireDeferred")("MoatSIVTSignals");c=b("React");var i=c.useCallback,j=c.useRef,k=60*1e3;function a(a){var c=j(0),d=i(function(b,d){d=d.getTime();d-c.current>=k&&a!=null&&(c.current=d,h.onReady(function(c){c=c.getSignals();c={moat_sivt_results:c,xt:a};b.post("comet_metrics:moat_sivt",c)}))},[a]);return b("useImpressionMoatSivtLogger")(g,d)}e.exports=a}),null);
__d("InteractionSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TOP_NEWS:0,FRIEND_LIST:1,TICKER:2,TIMELINE:3,GROUPS:4,APPS_AND_GAMES:5,PHOTOS:6,LINKS:7,PERMALINK:8,LOCKFEED:9,UNKNOWN_INTERACTION_SOURCE:10,COMMENT_POPOVER:11,VPV_FORCED:12,BEST_FEED:13,UNSEEN_FEED:14,PIVOTS:15,SHARED_OBJECT:16,PAPER:17,NOTIFICATIONS:18,RECENT_VPVS_GRAPHQL_FILTER:19,EXPLORE_FEED:20,PAGE_STORIES_YOU_MISSED:21,REDSPACE:22,VH_LIVE:23,GROUP_TOP_STORIES:24,GROUPS_INBOX:25,COMMENT_VPVD:26,PAGES:27,VIDEO_FULLSCREEN_PLAYER:28,VIDEO_HOME:29,RECENT_COMMENT_VPV:30,PHOTOS_PREVIEW:31,SEEN_FEED:32,MEMORIES_HOME:33,CUSTOM_FEED:34,SNOWFLAKE:35,FB_STORIES:36,SNOWFLAKE_MEDIAS:37,PHOTOS_PREVIEW_UNDER_SHARED_OBJECT:38,QUICK_PROMOTION_OBJECT:39,LASSO:40,SEARCH_VOYAGER:41,BUSINESS_FEED:42,CRS:43,PAGE_VIDEO_THUMBNAIL:44,VIDEO_CATALOG_THUMBNAIL:45,MESSENGER_VIDEO:46,PERMALINK_OR_PHOTO_CHAINING:47,FB_STORIES_BUCKET:48,TAO_WATCHED_VIDEOS:49,TAO_WATCHED_SHOW_VIDEOS_WITH_POSITION:50,TAO_EVER_WATCHED_SHOW_VIDEOS:51,GAMES_FEED:52,GROUPS_TAB:53,VIDEO_CHAINING:54,END_OF_FEED:55,CRISIS_PAGE:56,SHOWCASE_OBJECT:57,SHOWCASE_UNIT:58,TAHOE_ENDSCREEN_SUGGESTED_VIDEOS:59,FRIEND_DEEP_DIVE:60,IFR_DEEP_DIVE:61,FRIENDS_HOME_DIVE:62,MOST_RECENT_FEED:63,FAN_SUBSCRIPTIONS_EXCLUSIVE_CONTENT_FEED:64,SFV_SHORTS:65,FAVORITES_FEED:66,LOCAL_COMMUNITY_FEED:67,CORONAVIRUS_HUB:68,PAGES_FEED:69,COMMUNITY_VIEW:70,MAX_INTERACTION_SOURCE:71})}),null);
__d("useCometFeedUnitGapInfo",["CometFeedUnitStatusListPassiveContext","React","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useCallback,h=c.useContext,i=c.useRef,j=function(a){return a==="SPONSORED"||a==="ENGAGEMENT"||a==="FIXED_POSITION"||a==="PROMOTION"};function a(){var a=i(null),c=h(b("CometFeedUnitStatusListPassiveContext")),d=g(function(a){var d;if(c==null)return null;if(a<0){b("recoverableViolation")("computeGapInfoForPosition called with invalid feed position "+a,"comet_feed");return null}var e=c();if(e[a]==null){b("recoverableViolation")("feed position "+a+" does not exist in getFeedUnitStatusListPassive (length:"+e.length+")","comet_feed");return null}d=(d=e[a])==null?void 0:d.category;if(!j(d))return null;var f=-1,g=-1,h=-1,i=-1;for(var k=a-1;k>=0;k--){var l,m=a-k;l=(l=e[k])==null?void 0:l.category;switch(l){case"ENGAGEMENT":f=f===-1?m:f;break;case"FIXED_POSITION":g=g===-1?m:g;break;case"PROMOTION":h=h===-1?m:h;break;case"SPONSORED":i=i===-1?m:i;break}if(f!==-1&&g!==-1&&h!==-1&&i!==-1)break}return{dist_to_engagement:f,dist_to_fixed:g,dist_to_promo:h,dist_to_sponsored:i,dist_to_top:a+1,story_category:d}},[c]),e=g(function(b){var c=a.current;(b<0||c==null||c.dist_to_top!==b+1)&&(a.current=d(b));return a.current},[d]);return e}e.exports=a}),null);
__d("useStoryVPVDLogger",["requireDeferred","CometInteractionSourceContext","CometNewsFeedVPVDStore","InteractionSource","Random","React","WebSession","gkx","useCometFeedUnitGapInfo","useCurrentRoute","useVPVDImpression"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("Banzai"),h=b("requireDeferred")("BanzaiODS");c=b("React");var i=c.useCallback,j=c.useContext,k=c.useRef,l=Object.keys(b("InteractionSource")).reduce(function(a,c){a[b("InteractionSource")[c]]=c;return a},{}),m=function(a,c){var d;return babelHelpers["extends"]({csp:a.position,is_agg:a.isAggregated,is_agg_sub:a.isAggregatedSubStory,is_self:a.isSelfPost,logged_before:a.loggedBefore,sid_raw:b("WebSession").getId(),source:a.source,source_override:a.source_override,story_height:a.story_height,story_width:a.story_width,storyId:a.id,vpvd_start_timestamp_ms:a.visibleTime,vpvd_time_delta_ms:a.hiddenTime-((d=a.visibleTime)!=null?d:0),xt:a.encrypted_tracking},c)},n=1e3;function a(a){var c=a.interactionSourceOverride,d=a.isAggregated,e=d===void 0?null:d;d=a.isAggregatedSubStory;var f=d===void 0?null:d;d=a.isSelfPost;var o=d===void 0?null:d,p=a.position,q=a.trackable,r=j(b("CometInteractionSourceContext")),s=b("useCometFeedUnitGapInfo")();d=b("useCurrentRoute")()||{};var t=d.tracePolicy;d=l[(a=c)!=null?a:r];var u="STORYID-"+p+"-"+d+"-"+(q||"").slice(0,15),v=j(b("CometNewsFeedVPVDStore").LoggerContext),w=k(null),x=k(null),y=k(!1);a=i(function(a){var b=a.entry;a=a.visibleTime;v(a);w.current=(a=b==null?void 0:(a=b.boundingClientRect)==null?void 0:a.height)!=null?a:null;x.current=(b=b==null?void 0:(a=b.boundingClientRect)==null?void 0:a.width)!=null?b:null},[v]);d=i(function(a){var d,i=a.hiddenTime;a=a.visibleTime;if(r===10){b("Random").coinflip(n)&&h.onReady(function(a){a.bumpEntityKey(3372,"comet.unknown_vpvd_tracepolicy",(a=t)!=null?a:"empty",n)});return}var j=w.current!=null?Math.round(w.current):null,k=x.current!=null?Math.round(x.current):null,l=s(p),v=m({encrypted_tracking:(d=q)!=null?d:"",hiddenTime:i,id:u,isAggregated:e,isAggregatedSubStory:f,isSelfPost:o,loggedBefore:y.current,position:p,source:r,source_override:c,story_height:j,story_width:k,visibleTime:a},l);y.current=!0;g.onReady(function(a){a.post("comet_metrics:vpvd",v)})},[r,s,p,q,u,e,f,o,c,t]);return b("useVPVDImpression")({onVPVDEnd:d,onVPVDStart:a})}e.exports=a}),null);
__d("CometTrackingCodeProvider.react",["CometTrackingCodeContext","React","shallowEqual"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useContext,i=c.useMemo,j=c.useRef;function a(a){var c=a.children;a=a.trackingCode;var d=j({click_tracking_linkshim_cb:"",encrypted_click_tracking:"",encrypted_tracking:""});b("shallowEqual")(d.current,a)||(d.current=a);var e=h(b("CometTrackingCodeContext"));a=i(function(){var a={click_tracking_linkshim_cb:e.click_tracking_linkshim_cb,encrypted_click_tracking:e.encrypted_click_tracking,encrypted_tracking:e.encrypted_tracking};for(var b in a)d.current[b]&&d.current[b]!==""&&(a[b]=[].concat(a[b],[d.current[b]]));return a},[e]);return g.jsx(b("CometTrackingCodeContext").Provider,{value:a,children:c})}e.exports=g.memo(a)}),null);
__d("useImpressionLogger",["CometViewportMarginsContext","React","getIntersectionMarginFromViewportMargin","intersectionObserverEntryIsIntersecting","useIntersectionObserver"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useCallback,h=c.useContext,i=c.useRef;function a(a,c){var d=h(b("CometViewportMarginsContext")),e=i(!1),f=g(function(d){d=b("intersectionObserverEntryIsIntersecting")(d);if(e.current!==d){e.current=d;if(e.current){var f=new Date();e.current=!0;a.onReady(function(a){c(a,f)})}}},[c,a]);return b("useIntersectionObserver")(f,{root:null,rootMargin:b("getIntersectionMarginFromViewportMargin")(d),threshold:0})}e.exports=a}),null);